{"version":3,"sources":["firebase-config.js","components/LogIn.js","functions/toggleNightMode.js","components/Header.js","functions/sorts.js","components/Sortbar.js","functions/formatNumber.js","functions/getElapsedTime.js","components/PostBox.js","components/Home.js","components/Search.js","components/Footer.js","functions/secondsToDate.js","components/SubSidebar.js","components/subredditContext.js","components/Subreddit.js","components/Submit.js","components/Reply.js","components/Comment.js","components/Comments.js","components/Post.js","components/App.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","LogIn","setLogInForm","setSignUpForm","logIn","useState","email","username","password","confirmPassword","form","setForm","handleChange","event","target","name","value","setError","message","errorMsg","document","querySelector","submitBtn","createElement","classList","add","parentNode","insertBefore","innerHTML","className","onClick","type","placeholder","onChange","checkUsername","a","db","getFirestore","q","query","collection","where","getDocs","querySnapshot","empty","forEach","doc","data","Error","auth","getAuth","signInWithEmailAndPassword","then","catch","error","code","console","log","createAccount","addDoc","upvoted","downvoted","createUserWithEmailAndPassword","toggleNightMode","nightMode","setNightMode","body","nightBtn","nightSwitch","header","headerTitle","searchField","logInBtn","signUpBtn","userBtn","dropdownMenu","dropdownItem","querySelectorAll","style","background","left","borderBottom","color","border","i","Header","user","searchInput","setSearchInput","logInForm","signUpForm","dropdown","setDropdown","navigate","useNavigate","to","xmlns","viewBox","fill","cx","cy","r","d","onKeyDown","keyCode","signOut","getDocId","currentUser","docId","id","deleteDocFields","docRef","updateDoc","deleteField","deleteDocument","deleteDoc","deleteUser","sortByHot","array","sortByDateNew","date","Date","array1","array2","p","getTime","seconds","push","sortByTop","concat","slice","sort","b","upvotes","downvotes","Sortbar","posts","setPosts","comments","setComments","sortTypePosts","setSortTypePosts","sortTypeComments","setSortTypeComments","postsArray","resultA","sortByDateOld","comment","totalReplies","replies","length","loopReplies","branch","reply","sortByControversial","formatNumber","num","Math","abs","toFixed","getElapsedTime","startTime","elapsedTime","secondsPerYear","secondsPerMonth","secondsPerDay","now","years","floor","months","days","hours","minutes","PostBox","setUser","propSlug","post","setPost","activeFlairs","pickFlair","postPage","slug","useParams","setUpvoted","setDownvoted","deleted","setDeleted","useEffect","includes","vote","direction","postRef","userRef","upvotedClone","downvotedClone","index","indexOf","splice","newUpvotes","newDownvotes","temp","author","flairs","map","flair","title","text","subreddit","Home","getPosts","href","Search","searchQuery","Footer","secondsToDate","year","getFullYear","month","getMonth","day","getDate","SubSidebar","colors","description","members","created","state","SubredditContext","React","createContext","Subreddit","banner","icon","setSubreddit","setActiveFlairs","LightBlue","DarkBlue","getSubreddit","getDoc","docSnap","exists","postsRef","querySnap","backgroundImage","backgroundColor","url","alt","postFlairs","f","hasActiveFlair","Provider","Submit","setTitle","setText","useLocation","submitPost","Reply","parent","setReply","submitReply","parentId","postId","replyInput","Comment","collapsed","setCollapsed","showCommentsReply","setShowCommentsReply","commentRef","c","Comments","allComments","getComments","commentsRef","commentsArray","addReplies","allComment","Post","postSubreddit","useContext","getPost","remove","App","firebaseAppConfig","getFirebaseConfig","initializeApp","onAuthStateChanged","userAuth","getUser","exact","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ce8fbf99.chunk.js","sourcesContent":["// Firebase Configuration\nconst firebaseConfig = {\n\tapiKey: \"AIzaSyDVf2ofyD_gruQEYKvwsTnjF5B55bqtswE\",\n\tauthDomain: \"fakeddit-c2fc2.firebaseapp.com\",\n\tprojectId: \"fakeddit-c2fc2\",\n\tstorageBucket: \"fakeddit-c2fc2.appspot.com\",\n\tmessagingSenderId: \"615056824169\",\n\tappId: \"1:615056824169:web:929502b979e546b2f80ff8\"\n};\n\nexport function getFirebaseConfig() {\n\tif (!firebaseConfig || !firebaseConfig.apiKey) {\n\t\tthrow new Error('No Firebase configuration object provided.');\n\t} else {\n\t\treturn firebaseConfig;\n\t}\n}","import React, { useState } from \"react\";\nimport { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { getFirestore, collection, query, where, getDocs, addDoc } from \"firebase/firestore\";\nimport \"../styles/LogIn.css\";\n\nconst LogIn = ({setLogInForm, setSignUpForm, logIn}) => {\n    const [form, setForm] = useState({\n        email: '',\n        username: '',\n        password: '',\n        confirmPassword: '',\n    });\n\n    const handleChange = event => {\n        setForm({\n            ...form,\n            [event.target.name]: event.target.value\n        });\n    };\n\n    const processLogIn = () => {\n        // Check if username exists\n        const checkUsername = async () => {\n            const db = getFirestore();\n            const q = query(collection(db, \"users\"), where(\"username\", \"==\", form.username));\n            const querySnapshot = await getDocs(q);\n\n            if (!querySnapshot.empty) {\n                let email = '';\n                querySnapshot.forEach((doc) => {\n                    email = doc.data().email;\n                });\n\n                return email;\n            } else {\n                throw new Error('Invalid username');\n            }\n        };\n\n        // Log in\n        const logIn = async (email, password) => {\n            const auth = getAuth();\n            signInWithEmailAndPassword(auth, email, password)\n            .then(() => {\n                setLogInForm(false);\n            })\n            .catch((error) => {\n                if (error.code === 'auth/wrong-password') {\n                    setError('Wrong password.');\n                }\n                console.log(error);\n            });\n        };\n\n        // Check if any field is empty\n        if (form.username === '' || form.password === '') {\n            setError('All fields required.');\n        } else {\n            checkUsername()\n            .then((email) => {\n                logIn(email, form.password);\n            })\n            .catch((error) => {\n                setError(error.message);\n            });\n        }\n    };\n\n    const processSignUp = () => {\n        // Check if username exists\n        const checkUsername = async () => {\n            const db = getFirestore();\n            const q = query(collection(db, \"users\"), where(\"username\", \"==\", form.username));\n            const querySnapshot = await getDocs(q);\n\n            if (!querySnapshot.empty) {\n                throw new Error('Username already exists.');\n            }\n        };\n\n        // Create Account\n        const createAccount = async () => {\n            const db = getFirestore();\n            await addDoc(collection(db, \"users\"), {\n                email: form.email,\n                username: form.username,\n                password: form.password,\n                upvoted: [],\n                downvoted: []\n            });\n        };\n\n        // Check if any field is empty and if passwords match\n        if (form.email === '' || form.username === '' || form.password === '' || form.confirmPassword === '') {\n            setError('All fields required.');\n        } else if (form.password !== form.confirmPassword) {\n            setError('Passwords do not match.');\n        } else {\n            checkUsername()\n            .then(() => {\n                // Create Auth Account\n                const auth = getAuth();\n                createUserWithEmailAndPassword(auth, form.email, form.password)\n                .then(createAccount)\n                .then(() => { setSignUpForm(false); })\n                .catch((error) => {\n                    if (error.code === 'auth/weak-password') {\n                        setError('Password must have at least 6 characters.');\n                    } else if (error.code === 'auth/invalid-email') {\n                        setError('Invalid email.');\n                    } else if (error.code === 'auth/email-already-in-use') {\n                        setError('Email in use.');\n                    }\n                    console.log(error);\n                });\n            })\n            .catch((error) => {\n                setError(error.message);\n                console.log(error);\n            });\n        }\n    };\n\n    const setError = message => {\n        let errorMsg = document.querySelector('.error-msg');\n        if (!errorMsg) {\n            const submitBtn = document.querySelector('.log-in-form-submit-btn');\n            errorMsg = document.createElement('div');\n            errorMsg.classList.add('error-msg');\n            submitBtn.parentNode.insertBefore(errorMsg, submitBtn);\n        }\n\n        errorMsg.innerHTML = message;\n    };\n\n    return (\n        <div className=\"log-in\">\n            <div className=\"canvas log-in-canvas\" />\n            <div className=\"log-in-form-container\">\n                <div className=\"log-in-form-close\">\n                    <div className=\"log-in-form-close-btn\" onClick={() => {\n                        logIn ? setLogInForm(false) : setSignUpForm(false);\n                    }} />\n                </div>\n                {logIn ?\n                <div className=\"log-in-form\">\n                    <h1>Login</h1>\n                    <div>By continuing, you agree to our <span className=\"link\">User Agreement</span> and <span className=\"link\">Privacy Policy</span>.</div>\n                    <input type=\"text\" name=\"username\" value={form.username} placeholder=\"Username\" onChange={handleChange} />\n                    <input type=\"text\" name=\"password\" value={form.password} placeholder=\"Password\" onChange={handleChange} />\n                    <button className=\"log-in-form-submit-btn\" onClick={processLogIn}>Log In</button>\n                    <div className=\"log-in-form-bottom\">\n                        <div>Forgot your <span className=\"link\">username</span> or <span className=\"link\">password</span>?</div>\n                        <div>New to Fakeddit? <span className=\"link\" onClick={() => {\n                            setLogInForm(false);\n                            setSignUpForm(true);\n                        }}>SIGN UP</span></div>\n                    </div>\n                </div>\n                :\n                <div className=\"log-in-form\">\n                    <h1>Sign up</h1>\n                    <div>By continuing, you are setting up a Fakeddit account and agree to our <span className=\"link\">User Agreement</span> and <span className=\"link\">Privacy Policy</span>.</div>\n                    <input type=\"text\" name=\"email\" value={form.email} placeholder=\"Email\" onChange={handleChange} />\n                    <input type=\"text\" name=\"username\" value={form.username} placeholder=\"Username\" onChange={handleChange} />\n                    <input type=\"text\" name=\"password\" value={form.password} placeholder=\"Password\" onChange={handleChange} />\n                    <input type=\"text\" name=\"confirmPassword\" value={form.confirmPassword} placeholder=\"Confirm Password\" onChange={handleChange} />\n                    <button className=\"log-in-form-submit-btn\" onClick={processSignUp}>Continue</button>\n                    <div className=\"log-in-form-bottom\">\n                        <div>Already a Fakedditor? <span className=\"link\" onClick={() => {\n                            setLogInForm(true);\n                            setSignUpForm(false);\n                        }}>LOG IN</span></div>\n                    </div>\n                </div>\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default LogIn;","const toggleNightMode = (nightMode, setNightMode) => {\n\tconst body = document.body;\n\tconst nightBtn = document.querySelector('.night-mode-btn');\n\tconst nightSwitch = document.querySelector('.night-mode-btn-switch');\n\tconst header = document.querySelector('.header');\n\tconst headerTitle = document.querySelector('.header-title');\n\tconst searchField = document.querySelector('.search-field');\n\tconst logInBtn = document.querySelector('.login-btn');\n\tconst signUpBtn = document.querySelector('.signup-btn');\n\tconst userBtn = document.querySelector('.user-btn');\n\tconst dropdownMenu = document.querySelector('.user-dropdown-menu');\n\tconst dropdownItem = document.querySelectorAll('.dropdown-item');\n\n\tif (nightMode) {\n\t\tsetNightMode(false);\n\t\tbody.style.background = 'rgb(218, 224, 230)';\n\t\tnightBtn.style.background = 'rgba(26, 26, 27, 0.1)';\n\t\tnightSwitch.style.left = '0';\n\t\theader.style.background = 'rgb(255, 255, 255)';\n\t\theader.style.borderBottom = '1px solid rgb(237, 239, 241)';\n\t\theaderTitle.style.color = 'rgb(0, 0, 0)';\n\t\tsearchField.style.background = 'rgb(246, 247, 248)';\n\t\tsearchField.style.color = 'rgb(0, 0, 0)';\n\t\tsearchField.style.border = '1px solid rgb(237, 239, 241)';\n\t\tif (logInBtn) {\n\t\t\tlogInBtn.style.background = 'rgb(255, 255, 255)';\n\t\t\tlogInBtn.style.color = 'rgb(0, 121, 211)';\n\t\t\tlogInBtn.style.border = '1px solid rgb(0, 121, 211)';\n\t\t}\n\t\tif (signUpBtn) {\n\t\t\tsignUpBtn.style.background = 'rgb(0, 121, 211)';\n\t\t\tsignUpBtn.style.color = 'rgb(255, 255, 255)';\n\t\t\tsignUpBtn.style.border = '1px solid rgb(0, 121, 211)';\n\t\t}\n\t\tuserBtn.style.color = 'rgb(0, 0, 0)';\n\t\tdropdownMenu.style.background = 'rgb(255, 255, 255)';\n\t\tdropdownItem.forEach(i => { i.style.color = 'rgb(0, 0, 0)' });\n\t} else {\n\t\tsetNightMode(true);\n\t\tbody.style.background = 'rgb(0, 0, 0)';\n\t\tnightBtn.style.background = 'rgb(0, 121, 211)';\n\t\tnightSwitch.style.left = '12px';\n\t\theader.style.background = 'rgb(26, 26, 27)';\n\t\theader.style.borderBottom = '1px solid rgb(52, 53, 54)';\n\t\theaderTitle.style.color = 'rgb(215, 218, 220)';\n\t\tsearchField.style.background = 'rgb(39, 39, 41)';\n\t\tsearchField.style.color = 'rgb(215, 218, 220)';\n\t\tsearchField.style.border = '1px solid rgb(52, 53, 54)';\n\t\tif (logInBtn) {\n\t\t\tlogInBtn.style.background = 'rgb(26, 26, 27)';\n\t\t\tlogInBtn.style.color = 'rgb(215, 218, 220)';\n\t\t\tlogInBtn.style.border = '1px solid rgb(215, 218, 220)';\n\t\t}\n\t\tif (signUpBtn) {\n\t\t\tsignUpBtn.style.background = 'rgb(215, 218, 220)';\n\t\t\tsignUpBtn.style.color = 'rgb(26, 26, 27)';\n\t\t\tsignUpBtn.style.border = '1px solid rgb(215, 218, 220)';\n\t\t}\n\t\tuserBtn.style.color = 'rgb(215, 218, 220)';\n\t\tdropdownMenu.style.background = 'rgb(26, 26, 27)';\n\t\tdropdownItem.forEach(i => { i.style.color = 'rgb(215, 218, 220)' });\n\t}\n};\n\nexport default toggleNightMode;","import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { getAuth, signOut, deleteUser } from \"firebase/auth\";\nimport { getFirestore, collection, query, where, getDocs, doc, deleteDoc, updateDoc, deleteField } from \"firebase/firestore\";\nimport LogIn from \"./LogIn\";\nimport '../styles/Header.css';\nimport toggleNightMode from '../functions/toggleNightMode';\n\nconst Header = ({user}) => {\n\tconst [searchInput, setSearchInput] = useState('');\n\tconst [logInForm, setLogInForm] = useState(false);\n\tconst [signUpForm, setSignUpForm] = useState(false);\n\tconst [dropdown, setDropdown] = useState(false);\n\tconst [nightMode, setNightMode] = useState(false);\n\tconst navigate = useNavigate();\n\n\tconst handleInput = (event) => {\n\t\tsetSearchInput(event.target.value);\n\t};\n\n\tconst submitSearch = (event) => {\n\t\tif (event.keyCode === 13) {\n\t\t\tnavigate(\"/search/\" + searchInput);\n\t\t}\n\t};\n\n\tconst logOut = () => {\n\t\tconst auth = getAuth();\n\t\tsignOut(auth).then(() => {\n\t\t\tsetDropdown(false);\n\t\t}).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\t};\n\n\tconst deleteAccount = () => {\n\t\tconst db = getFirestore();\n\t\tconst auth = getAuth();\n\n\t\t// Get Document id of user\n\t\tconst getDocId = async () => {\n\t\t\tconst q = query(collection(db, \"users\"), where(\"email\", \"==\", auth.currentUser.email));\n\t\t\tconst querySnapshot = await getDocs(q);\n\t\t\tlet docId = '';\n\t\t\tquerySnapshot.forEach((doc) => {\n\t\t\t\tdocId = doc.id;\n\t\t\t});\n\n\t\t\treturn docId;\n\t\t}\n\n\t\t// Delete Fields from Document\n\t\tconst deleteDocFields = async (id) => {\n\t\t\tconst docRef = doc(db, \"users\", id);\n\t\t\tawait updateDoc(docRef, {\n\t\t\t\temail: deleteField(),\n\t\t\t\tusername: deleteField(),\n\t\t\t\tpassword: deleteField(),\n\t\t\t\tupvoted: deleteField(),\n\t\t\t\tdownvoted: deleteField()\n\t\t\t});\n\t\t};\n\n\t\t// Delete Document\n\t\tconst deleteDocument = async (id) => {\n\t\t\tconst docRef = doc(db, \"users\", id);\n\t\t\tawait deleteDoc(docRef);\n\t\t};\n\n\t\t// Delete Account\n\t\tgetDocId()\n\t\t.then((id) => {\n\t\t\tdeleteDocFields(id)\n\t\t\t.then(() => { deleteDocument(id) })\n\t\t\t.then(() => { deleteUser(auth.currentUser) })\n\t\t\t.then(() => {\n\t\t\t\tsetDropdown(false);\n\t\t\t\tconsole.log('Successfully deleted account');\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t});\n\t}\n\n\treturn (\n\t\t<div className=\"header\">\n\t\t\t{dropdown ?\n\t\t\t\t<div className=\"canvas\" onClick={() => {setDropdown(false)}} />\n\t\t\t: null}\n\t\t\t<div className=\"header-left\">\n\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" className=\"logo\">\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<circle fill=\"#FF4500\" cx=\"10\" cy=\"10\" r=\"10\"></circle>\n\t\t\t\t\t\t\t<path fill=\"#FFFFFF\" d=\"M6.83 8.24h1.64V6.65A4.26 4.26 0 0 1 9 4.19 2.92 2.92 0 0 1 11.54 3a10.31 10.31 0 0 1 2.94.29l-.41 2.43a5.54 5.54 0 0 0-1.32-.2 1 1 0 0 0-1.21.87v1.85h2.62L14 10.61h-2.46v8.24H8.47v-8.24H6.83V8.24z\"></path>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</svg>\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t<div className=\"header-title\">fakeddit</div>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t<div className=\"header-center\">\n\t\t\t\t<div className=\"search-box\">\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<input className=\"search-field\" type=\"search\" placeholder=\"Search Fakeddit\" onChange={handleInput} onKeyDown={submitSearch}></input>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"header-right\">\n\t\t\t\t{!user ?\n\t\t\t\t<div className=\"header-btns-container\">\n\t\t\t\t\t<button className=\"header-btn login-btn\" onClick={() => {setLogInForm(true)}}>Log In</button>\n\t\t\t\t\t<button className=\"header-btn signup-btn\" onClick={() => {setSignUpForm(true)}}>Sign Up</button>\n\t\t\t\t</div>\n\t\t\t\t: null}\n\t\t\t\t<div className=\"user-btn\">\n\t\t\t\t\t<div className=\"user-dropdown-btn\" onClick={() => {setDropdown(true)}}></div>\n\t\t\t\t\t{dropdown ?\n\t\t\t\t\t\t<div className={nightMode ? \"user-dropdown-menu user-dropdown-menu-night\" : \"user-dropdown-menu\"}>\n\t\t\t\t\t\t\t<div className=\"dropdown-header\">VIEW OPTIONS</div>\n\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"} onClick={() => { toggleNightMode(nightMode, setNightMode) }}>\n\t\t\t\t\t\t\t\tNight Mode\n\t\t\t\t\t\t\t\t<button className={nightMode ? \"night-mode-btn night-mode-btn-night\" : \"night-mode-btn\"} type=\"button\">\n\t\t\t\t\t\t\t\t\t<div className={nightMode ? \"night-mode-btn-switch night-mode-btn-switch-night\" : \"night-mode-btn-switch\"}></div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"dropdown-header\">MORE STUFF</div>\n\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"}>Coins</div>\n\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"}>Premium</div>\n\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"}>Powerups</div>\n\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"}>Talk</div>\n\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"}>Predictions</div>\n\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"}>Help Center</div>\n\t\t\t\t\t\t\t{user ?\n\t\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"} onClick={logOut}>Log Out</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"} onClick={() => {\n\t\t\t\t\t\t\t\t\tsetDropdown(false);\n\t\t\t\t\t\t\t\t\tsetLogInForm(true);\n\t\t\t\t\t\t\t\t}}>Log In / Sign Up</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{user ?\n\t\t\t\t\t\t\t\t<div className={nightMode ? \"dropdown-item dropdown-item-night\" : \"dropdown-item\"} onClick={deleteAccount}>Delete Account</div>\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t: null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{logInForm ?\n\t\t\t\t<LogIn setLogInForm={setLogInForm} setSignUpForm={setSignUpForm} logIn={true} />\n\t\t\t: null}\n\t\t\t{signUpForm ?\n\t\t\t\t<LogIn setLogInForm={setLogInForm} setSignUpForm={setSignUpForm} logIn={false} />\n\t\t\t: null}\n\t\t</div>\n\t);\n}\n\nexport default Header;","/* Sort by hot\nSort by date (desc), split between recent (last 24 hrs) and old,\nthen sort recent by top (desc) */\nconst sortByHot = (array) => {\n    sortByDateNew(array);\n\n    const date = new Date();\n    const array1 = [];\n    const array2 = [];\n    array.forEach((p) => {\n        const deltaSeconds = (date.getTime() / 1000) - p.date.seconds;\n        const deltaHours = deltaSeconds / 60 / 60;\n        deltaHours <= 24 ? array1.push(p) : array2.push(p);\n    });\n\n    sortByTop(array1);\n    array = (array1.concat(array2)).slice();\n};\n\n// Sort by best (upvotes / downvotes) (desc)\nconst sortByBest = (array) => {\n    array.sort((a, b) => {\n        // Check for zero divisor\n        let resultA = (a.downvotes === 0) ? a.upvotes : a.upvotes / a.downvotes;\n        let resultB = (b.downvotes === 0) ? b.upvotes : b.upvotes / b.downvotes;\n\n        return resultB - resultA;\n    });\n};\n\n// Sort by top (votes) (desc)\nconst sortByTop = (array) => {\n    array.sort((a, b) => {\n        return (b.upvotes - b.downvotes) - (a.upvotes - a.downvotes);\n    });\n};\n\n// Sort by date (desc)\nconst sortByDateNew = (array) => {\n    array.sort((a, b) => {\n        return b.date - a.date;\n    });\n};\n\n// Sort by date (asc)\nconst sortByDateOld = (array) => {\n    array.sort((a, b) => {\n        return a.date - b.date;\n    });\n};\n\n// Sort by controversial (desc)\nconst sortByControversial = (array) => {\n    array.forEach((comment) => {\n        let totalReplies = comment.replies.length;\n\n        if (comment.replies > 0) {\n            const loopReplies = (branch) => {\n                branch.forEach((reply) => {\n                    totalReplies++;\n\n                    // If current comment has replies, recursively loop through each reply\n                    if (reply.replies.length > 0) {\n                        loopReplies(reply.replies);\n                    }\n                });\n            };\n\n            loopReplies(comment.replies);\n        }\n\n        // Temporarily add totalReplies property to comment\n        comment.totalReplies = totalReplies;\n    });\n\n    // Sort by totalReplies\n    array.sort((a, b) => {\n        return b.totalReplies - a.totalReplies;\n    });\n\n    // Delete totalReplies property from comments\n    array.forEach((comment) => {\n        delete comment.totalReplies;\n    });\n};\n\nexport {\n    sortByHot,\n    sortByBest,\n    sortByTop,\n    sortByDateNew,\n    sortByDateOld,\n    sortByControversial\n};","import React, { useState } from \"react\";\nimport { sortByHot, sortByBest, sortByTop, sortByDateNew, sortByDateOld, sortByControversial } from \"../functions/sorts\";\nimport \"../styles/Sortbar.css\";\n\nconst Sortbar = ({posts, setPosts, comments, setComments}) => {\n    const [sortTypePosts, setSortTypePosts] = useState('hot');\n    const [sortTypeComments, setSortTypeComments] = useState('best');\n    const [dropdown, setDropdown] = useState(false);\n\n    const sort = (type) => {\n        let postsArray;\n        postsArray = posts ? posts.slice() : comments.slice();\n\n        if (type === 'hot') {\n            sortByHot(postsArray);\n            posts ? setSortTypePosts('hot') : setSortTypeComments('hot');\n        } else if (type === 'best'){\n            sortByBest(postsArray);\n            posts ? setSortTypePosts('best') : setSortTypeComments('best');\n        } else if (type === 'top') {\n            sortByTop(postsArray);\n            posts ? setSortTypePosts('top') : setSortTypeComments('top');\n        } else if (type === 'new') {\n            sortByDateNew(postsArray);\n            posts ? setSortTypePosts('new') : setSortTypeComments('new');\n        } else if (type === 'old') {\n            sortByDateOld(postsArray);\n            posts ? setSortTypePosts('old') : setSortTypeComments('old');\n        } else if (type === 'controversial') {\n            if (comments) {\n                sortByControversial(postsArray);\n                posts ? setSortTypePosts('controversial') : setSortTypeComments('controversial');\n            }\n        }\n\n        posts ? setPosts(postsArray) : setComments(postsArray);\n    };\n\n    return (\n        <div className=\"sortbar\">\n        { posts ?\n            <div className=\"sortbar-posts\">\n                <div className={`sortbar-btn ${sortTypePosts === 'hot' ? `sortbar-btn-active` : ''}`} onClick={() => {\n                    if (sortTypePosts !== 'hot') {\n                        sort('hot');\n                    }\n                }}>Hot</div>\n                <div className={`sortbar-btn ${sortTypePosts === 'best' ? `sortbar-btn-active` : ''}`} onClick={() => {\n                    if (sortTypePosts !== 'best') {\n                        sort('best');\n                    }\n                }}>Best</div>\n                <div className={`sortbar-btn ${sortTypePosts === 'top' ? `sortbar-btn-active` : ''}`} onClick={() => {\n                    if (sortTypePosts !== 'top') {\n                        sort('top');\n                    }\n                }}>Top</div>\n                <div className={`sortbar-btn ${sortTypePosts === 'new' ? `sortbar-btn-active` : ''}`} onClick={() => {\n                    if (sortTypePosts !== 'new') {\n                        sort('new');\n                    }\n                }}>New</div>\n                <div className={`sortbar-btn ${sortTypePosts === 'old' ? `sortbar-btn-active` : ''}`} onClick={() => {\n                    if (sortTypePosts !== 'old') {\n                        sort('old');\n                    }\n                }}>Old</div>\n            </div>\n        :\n            <div className=\"sortbar-comments\">\n                <div className=\"sortbar-comments-btn\" onClick={() => { dropdown ? setDropdown(false) : setDropdown(true) }}>\n                    {sortTypeComments === 'best' ? <div>Sort By: Best</div> : null}\n                    {sortTypeComments === 'hot' ? <div>Sort By: Hot</div> : null}\n                    {sortTypeComments === 'top' ? <div>Sort By: Top</div> : null}\n                    {sortTypeComments === 'new' ? <div>Sort By: New</div> : null}\n                    {sortTypeComments === 'old' ? <div>Sort By: Old</div> : null}\n                    {sortTypeComments === 'controversial' ? <div>Sort By: Controversial</div> : null}\n                    {dropdown ?\n                    <div className=\"sortbar-comments-dropdown\">\n                        <div className=\"sortbar-comments-dropdown-item\" onClick={() => {\n                            if (sortTypeComments !== 'best') {\n                                sort('best');\n                            }\n                        }}>Best</div>\n                        <div className=\"sortbar-comments-dropdown-item\" onClick={() => {\n                            if (sortTypeComments !== 'hot') {\n                                sort('hot');\n                            }\n                        }}>Hot</div>\n                        <div className=\"sortbar-comments-dropdown-item\" onClick={() => {\n                            if (sortTypeComments !== 'top') {\n                                sort('top');\n                            }\n                        }}>Top</div>\n                        <div className=\"sortbar-comments-dropdown-item\" onClick={() => {\n                            if (sortTypeComments !== 'new') {\n                                sort('new');\n                            }\n                        }}>New</div>\n                        <div className=\"sortbar-comments-dropdown-item\" onClick={() => {\n                            if (sortTypeComments !== 'old') {\n                                sort('old');\n                            }\n                        }}>Old</div>\n                        <div className=\"sortbar-comments-dropdown-item\" onClick={() => {\n                            if (sortTypeComments !== 'controversial') {\n                                sort('controversial');\n                            }\n                        }}>Controversial</div>\n                    </div>\n                    : null}\n                </div>\n            </div>\n        }\n        </div>\n    );\n}\n\nexport default Sortbar;","const formatNumber = num => {\n    if (Math.abs(num) >= 1000 && Math.abs(num) < 1000000) {\n        num = (num / 1000).toFixed(1) + 'k';\n    }\n    if (Math.abs(num) >= 1000000 && Math.abs(num) < 1000000000) {\n        num = (num / 1000000).toFixed(1) + 'm';\n    }\n    if (Math.abs(num) >= 1000000000) {\n        num = (num / 1000000000).toFixed(1) + 'b';\n    }\n\n    return num;\n};\n\nexport default formatNumber;","// Convert seconds to string showing amount of time passed since then\nconst getElapsedTime = startTime => {\n    let elapsedTime;\n    const secondsPerYear = 365 * 24 * 60 * 60; // 31536000 sec\n    const secondsPerMonth = 30 * 24 * 60 * 60; // 2592000 sec\n    const secondsPerDay = 24 * 60 * 60; // 86400 sec\n    const secondsPerHour = 60 * 60; // 3600 sec\n    const secondsPerMinute = 60; // 60 sec\n\n    // Get time difference between specified and current time (milliseconds)\n    const delta = Date.now() - (startTime * 1000);\n\n    // Convert seconds to years / months / days / hours / minutes\n    const seconds = delta / 1000;\n    const years = Math.floor(seconds / secondsPerYear);\n    const months = Math.floor((seconds - (years * secondsPerYear)) / secondsPerMonth);\n    const days = Math.floor((seconds - (years * secondsPerYear) - (months * secondsPerMonth)) / secondsPerDay);\n    const hours = Math.floor((seconds - (years * secondsPerYear) - (months * secondsPerMonth) - (days * secondsPerDay)) / secondsPerHour);\n    const minutes = Math.floor((seconds - (years * secondsPerYear) - (months * secondsPerMonth)\n        - (days * secondsPerDay) - (hours * secondsPerHour)) / secondsPerMinute);\n\n    // Set elapsed time output\n    if (years === 1) { elapsedTime = years + ' year'; }\n    else if (years > 1) { elapsedTime = years + ' years'; }\n    else if (months === 1) { elapsedTime = months + ' month'; }\n    else if (months > 1) { elapsedTime = months + ' months'; }\n    else if (days === 1) { elapsedTime = days + ' day'; }\n    else if (days > 1) { elapsedTime = days + ' days'; }\n    else if (hours === 1) { elapsedTime = hours + ' hour'; }\n    else if (hours > 1) { elapsedTime = hours + ' hours'; }\n    else if (minutes === 1) { elapsedTime = minutes + ' minute'; }\n    else if (minutes > 1) { elapsedTime = minutes + ' minutes'; }\n    else if (minutes === 0) { return 'Just now'; }\n\n    return elapsedTime + ' ago';\n};\n\nexport default getElapsedTime;","import React, { useState, useEffect } from \"react\";\nimport { useParams, Navigate, Link } from \"react-router-dom\";\nimport { getFirestore, doc, updateDoc, deleteField, deleteDoc } from \"firebase/firestore\";\nimport formatNumber from \"../functions/formatNumber\";\nimport getElapsedTime from \"../functions/getElapsedTime\";\nimport \"../styles/PostBox.css\";\n\nconst PostBox = ({user, setUser, propSlug, post, setPost, posts, setPosts, activeFlairs, pickFlair, postPage}) => {\n    let { slug } = useParams(); // Get subreddit slug from url\n    if (propSlug) { slug = propSlug; } // If propSlug passed from Home component, set slug to propSlug\n    const [upvoted, setUpvoted] = useState(false);\n    const [downvoted, setDownvoted] = useState(false);\n    const [deleted, setDeleted] = useState(false);\n\n    // Set Upvoted & Downvoted on componentDidMount & componentDidUpdate\n    useEffect(() => {\n        if (user && user.upvoted.includes(post.id)) {\n            setUpvoted(true);\n        } else  {\n            setUpvoted(false);\n        }\n\n        if (user && user.downvoted.includes(post.id)) {\n            setDownvoted(true);\n        } else  {\n            setDownvoted(false);\n        }\n    }, [user, post.id]);\n\n    const vote = async (direction) => {\n        const db = getFirestore();\n        const postRef = doc(db, \"posts\", post.id);\n        const userRef = doc(db, \"users\", user.id);\n\n        // Clone user's upvoted/downvoted arrays\n        const upvotedClone = user.upvoted.slice();\n        const downvotedClone = user.downvoted.slice();\n\n        // If not already upvoted/downvoted, add post id to user's upvoted/downvoted array\n        if (direction === 'up' && !upvoted) {\n            upvotedClone.push(post.id);\n        } else if (direction === 'down' && !downvoted) {\n            downvotedClone.push(post.id);\n        }\n\n        // If already upvoted/downvoted, remove post id from user's upvoted/downvoted array\n        if (upvoted) {\n            const index = user.upvoted.indexOf(post.id);\n            upvotedClone.splice(index, 1);\n        } else if (downvoted) {\n            const index = user.downvoted.indexOf(post.id);\n            downvotedClone.splice(index, 1);\n        }\n\n        // Set user's upvoted/downvoted array\n        setUser({\n            ...user,\n            upvoted: upvotedClone,\n            downvoted: downvotedClone\n        });\n\n        // Get new upvotes/downvotes count\n        let newUpvotes = post.upvotes;\n        let newDownvotes = post.downvotes;\n        if (direction === 'up') {\n            upvoted ? newUpvotes-- : newUpvotes++;\n            if (downvoted) {\n                newDownvotes--;\n            }\n        } else {\n            downvoted ? newDownvotes-- : newDownvotes++;\n            if (upvoted) {\n                newUpvotes--;\n            }\n        }\n\n        // Update database\n        await updateDoc(postRef, {\n            upvotes: newUpvotes,\n            downvotes: newDownvotes\n        });\n        await updateDoc(userRef, {\n            upvoted: upvotedClone,\n            downvoted: downvotedClone\n        });\n\n        // Update posts state in Subreddit component\n        const temp = posts.slice();\n        // Find post in temp array, then update post upvotes\n        temp.forEach((p) => {\n            if (p.id === post.id) {\n                p.upvotes = newUpvotes;\n                p.downvotes = newDownvotes;\n            }\n        });\n        setPosts(temp);\n\n        // Update post state in Post component\n        if (postPage) {\n            setPost({\n                ...post,\n                upvotes: newUpvotes,\n                downvotes: newDownvotes\n            });\n        }\n    };\n\n    const deletePost = () => {\n\t\tconst db = getFirestore();\n\n\t\t// Delete Fields from Document\n\t\tconst deleteDocFields = async (id) => {\n\t\t\tconst docRef = doc(db, \"posts\", id);\n\t\t\tawait updateDoc(docRef, {\n                author: deleteField(),\n                comments: deleteField(),\n\t\t\t\tdate: deleteField(),\n                downvotes: deleteField(),\n                subreddit: deleteField(),\n                text: deleteField(),\n                title: deleteField(),\n                upvotes: deleteField()\n\t\t\t});\n\t\t};\n\n\t\t// Delete Document\n\t\tconst deleteDocument = async (id) => {\n\t\t\tconst docRef = doc(db, \"posts\", id);\n\t\t\tawait deleteDoc(docRef);\n\t\t};\n\n\t\t// Delete Post\n        deleteDocFields(post.id)\n        .then(() => { deleteDocument(post.id) })\n        .then(() => { setDeleted(true); })\n        .catch((error) => {\n            console.log(error);\n        });\n\t};\n\n    return (\n        <div className=\"post-box-container\">\n            { deleted ?\n\t\t\t\t<Navigate to={`/`} />\n            :\n            <div className=\"post-box\">\n                <div className=\"post-box-votes-container\">\n                    <div className={`post-box-upvote-btn ${user && upvoted ? `post-box-upvoted` : ''}`} onClick={\n                        user ? () => {\n                            vote('up');\n                        } : null\n                    } />\n                    <div className=\"post-box-votes\">\n                        {formatNumber(post.upvotes - post.downvotes)}\n                    </div>\n                    <div className={`post-box-downvote-btn ${user && downvoted ? `post-box-downvoted` : ''}`} onClick={\n                        user ? () => {\n                            vote('down');\n                        } : null\n                    } />\n                </div>\n                <div className=\"post-box-details\">\n                    <div className=\"post-box-meta\">\n                        {propSlug ?\n                            <Link to={`/r/${propSlug}`} className=\"post-box-subreddit\">r/{propSlug}</Link>\n                        : null}\n                        <span className=\"post-box-author\">Posted by u/{post.author}</span>\n                        <span className=\"post-box-date\">{getElapsedTime(post.date.seconds)}</span>\n                    </div>\n                    <div className=\"post-box-title\">\n                        {activeFlairs ? post.flairs.map((flair, i) => {\n                            return (\n                                <div key={i} className={`post-box-flair ${activeFlairs.includes(flair) ? `post-box-flair-active` : null}`}\n                                    onClick={() => {pickFlair(flair)}}>\n                                    {postPage ?\n                                        <Link to={`/r/${slug}`}>{flair}</Link>\n                                    : flair}\n                                </div>\n                            );\n                        })\n                        : null}\n                        <h3>{post.title}</h3>\n                    </div>\n                    <div className=\"post-box-text\">\n                        {post.text}\n                    </div>\n                    <div className=\"post-box-btns-container\">\n                        <Link to={`/r/${slug}/comments/${post.id}/${post.title}`} className=\"post-box-btn\">\n                            {post.comments} comments\n                        </Link>\n                        {user && post.author === user.username ?\n                            <div className=\"post-box-btn\" onClick={deletePost}>Delete</div>\n                        : null}\n                    </div>\n                </div>\n            </div>\n            }\n        </div>\n    );\n};\n\nexport default PostBox;","import React, { useState, useEffect } from \"react\";\nimport { getFirestore, collection, getDocs } from \"firebase/firestore\";\nimport Sortbar from \"./Sortbar\";\nimport PostBox from \"./PostBox\";\nimport { sortByHot } from \"../functions/sorts\";\nimport \"../styles/Home.css\";\n\nconst Home = ({user, setUser}) => {\n\tconst [posts, setPosts] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst getPosts = async () => {\n\t\t\tconst db = getFirestore();\n\t\t\tconst querySnapshot = await getDocs(collection(db, \"posts\"));\n\t\t\tconst postsArray = [];\n\n\t\t\t// Add fetched posts to posts array\n\t\t\tquerySnapshot.forEach(post => {\n\t\t\t\t// Push post data along with post id to array\n\t\t\t\tpostsArray.push({\n\t\t\t\t\t...post.data(),\n\t\t\t\t\tid: post.id\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Sort posts array by hot (desc)\n\t\t\tsortByHot(postsArray);\n\n\t\t\tsetPosts(postsArray.slice());\n\t\t};\n\n\t\tgetPosts();\n\t}, []);\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<div className=\"home-header\">\n\t\t\t\tPopular posts\n\t\t\t</div>\n\t\t\t<div className=\"home-body\">\n\t\t\t\t<div className=\"home-posts-container\">\n\t\t\t\t\t<Sortbar posts={posts} setPosts={setPosts} />\n\t\t\t\t\t{posts.length !== 0 ?\n\t\t\t\t\t\tposts.map((post) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<PostBox key={post.id} user={user} propSlug={post.subreddit} setUser={setUser}\n\t\t\t\t\t\t\t\t\tpost={post} posts={posts} setPosts={setPosts} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"home-sidebar\">\n\t\t\t\t\t<div className=\"home-sidebar-section\">\n\t\t\t\t\t\t<div className=\"home-sidebar-section-header\">About</div>\n\t\t\t\t\t\t<div className=\"home-sidebar-section-content\">\n\t\t\t\t\t\t\tFakeddit is a project made to simulate a popular website. Created through&nbsp;\n\t\t\t\t\t\t\t<a href=\"https://www.theodinproject.com\">TheOdinProject</a> online course.\n\t\t\t\t\t\t\t<br /><br />\n\t\t\t\t\t\t\tView source code <a href=\"https://github.com/RedRaptor10/fakeddit\">here</a>.\n\t\t\t\t\t\t\t<div className=\"home-sidebar-section-content-created\">\n                        \t\tCreated Dec 17, 2021\n                    \t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"home-sidebar-section\">\n\t\t\t\t\t\t<div className=\"home-sidebar-section-header\">Features</div>\n\t\t\t\t\t\t<div className=\"home-sidebar-section-content\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>Create / delete account</li>\n\t\t\t\t\t\t\t\t<li>Log in / log out account</li>\n\t\t\t\t\t\t\t\t<li>Browse different subfakeddits</li>\n\t\t\t\t\t\t\t\t<li>Create / delete posts & comments</li>\n\t\t\t\t\t\t\t\t<li>Upvote / downvote posts & comments</li>\n\t\t\t\t\t\t\t\t<li>Collapse comments</li>\n\t\t\t\t\t\t\t\t<li>Sort posts / comments</li>\n\t\t\t\t\t\t\t\t<li>Filter posts by flairs</li>\n\t\t\t\t\t\t\t\t<li>Search posts</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"home-sidebar-section\">\n\t\t\t\t\t\t<div className=\"home-sidebar-section-header\">Technologies</div>\n\t\t\t\t\t\t<div className=\"home-sidebar-section-content\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>React</li>\n\t\t\t\t\t\t\t\t<li>Firebase</li>\n\t\t\t\t\t\t\t\t<li>JavaScript</li>\n\t\t\t\t\t\t\t\t<li>HTML</li>\n\t\t\t\t\t\t\t\t<li>CSS</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Home;","import React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\nimport getElapsedTime from \"../functions/getElapsedTime\";\nimport formatNumber from \"../functions/formatNumber\";\nimport \"../styles/Search.css\";\n\nconst Search = () => {\n    const { searchQuery } = useParams(); // Get search query from url\n    const [posts, setPosts] = useState([]);\n\n    // Get posts where title contains search query on componentDidMount & componentDidUpdate\n    useEffect(() => {\n        const getPosts = async () => {\n            const db = getFirestore();\n            /* To search with prefixes, add '\\uf8ff', which is a high code point in Unicode that comes after every character.\n                This allows the query to match all values that start with searchQuery. */\n            const q = query(collection(db, \"posts\"), where(\"title\", \">=\", searchQuery), where (\"title\", \"<=\", searchQuery + \"\\uf8ff\"));\n            const querySnapshot = await getDocs(q);\n            const temp = [];\n\n            querySnapshot.forEach((doc) => {\n                // Push post data along with post id to array\n                temp.push({\n                    ...doc.data(),\n                    id: doc.id\n                });\n            });\n\n            setPosts(temp);\n        };\n\n        getPosts();\n    }, [searchQuery]);\n\n    return (\n        <div className=\"search\">\n            <div className=\"search-results\">\n                {posts.map((post, i) => {\n                    return (\n                        <div key={i} className=\"search-result\">\n                            <div className=\"search-result-meta\">\n                                <span className=\"search-result-subreddit\"><Link to={`/r/${post.subreddit}`}>r/{post.subreddit}</Link></span>\n                                <span className=\"search-result-author\">Posts by u/{post.author}</span>\n                                <span className=\"search-result-date\">{getElapsedTime(post.date.seconds)}</span>\n                            </div>\n                            <div className=\"search-result-title\">\n                                <Link to={`/r/${post.subreddit}/comments/${post.id}/${post.title}`}>{post.title}</Link>\n                            </div>\n                            <div className=\"search-result-details\">\n                                <span className=\"search-result-upvotes\">{formatNumber(post.upvotes)} upvotes</span>\n                                <span className=\"search-result-comments\">{formatNumber(post.comments)} comments</span>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n}\n\nexport default Search;","import React from \"react\";\nimport \"../styles/Footer.css\";\n\nconst Footer = () => {\n\treturn (\n\t\t<div className=\"footer\">\n            <div className=\"footer-content\">\n\t\t\t    <ul>\n                    <li>About</li>\n                    <li>Careers</li>\n                    <li>Press</li>\n                </ul>\n                <ul>\n                    <li>Advertise</li>\n                    <li>Blog</li>\n                    <li>Help</li>\n                </ul>\n                <ul>\n                    <li>Fakeddit Coins</li>\n                    <li>Fakeddit Premium</li>\n                    <li>Fakeddit Gifts</li>\n                </ul>\n                <ul>\n                    <li>Facebook</li>\n                    <li>Twitter</li>\n                    <li>Instagram</li>\n                </ul>\n            </div>\n            <div className=\"footer-bottom\">\n                <ul>\n                    <li>Content Policy</li>\n                    <li>Privacy Policy</li>\n                    <li>User Agreement</li>\n                    <li>Mod Policy</li>\n                    <li>Fakeddit created through <a href=\"https://www.theodinproject.com/\">TheOdinProject</a> online course.</li>\n                </ul>\n            </div>\n\t\t</div>\n\t);\n}\n\nexport default Footer;","// Convert seconds to string showing date\nconst secondsToDate = seconds => {\n    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n        'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    const date = new Date(seconds * 1000);\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const day = date.getDate();\n\n    return months[month] + ' ' + day + ', ' + year;\n};\n\nexport default secondsToDate;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport secondsToDate from \"../functions/secondsToDate\";\nimport formatNumber from \"../functions/formatNumber\";\nimport \"../styles/SubSidebar.css\";\n\nconst SubSidebar = ({ user, slug, subreddit, colors, activeFlairs, pickFlair, postPage }) => {\n    const { description, members, color, flairs, created } = subreddit;\n\n    return (\n        <div className=\"subreddit-sidebar\">\n            <div className=\"subreddit-sidebar-section\">\n                <div className=\"subreddit-sidebar-section-header\" style={\n                    color ? {\n                        background: colors[color],\n                        color: 'rgb(255, 255, 255)' \n                    } : null\n                }>\n                    About Community\n                </div>\n                <div className=\"subreddit-sidebar-section-content\">\n                    <div className=\"subreddit-sidebar-section-content-description\">\n                        {description}\n                    </div>\n                    <div className=\"subreddit-sidebar-section-content-members\">\n                        <div className=\"subreddit-sidebar-section-content-members-section\">\n                            <span className=\"subreddit-sidebar-section-content-members-number\">{formatNumber(members)}</span><br />Members\n                        </div>\n                        <div className=\"subreddit-sidebar-section-content-members-section\">\n                            <span className=\"subreddit-sidebar-section-content-members-number\">0</span><br />Online\n                        </div>\n                    </div>\n                    <div className=\"subreddit-sidebar-section-content-created\">\n                        Created {secondsToDate(created.seconds)}\n                    </div>\n                    {user ?\n                        <div className=\"subreddit-sidebar-section-create\">\n                            <Link to=\"submit\" state={{flairs: flairs}}>\n                                <div className=\"subreddit-sidebar-section-create-btn\" style={\n                                    color ? {\n                                        background: colors[color],\n                                        color: 'rgb(255, 255, 255)'\n                                    } : null\n                                }>\n                                    Create Post\n                                </div>\n                            </Link>\n                        </div>\n                    : null}\n                </div>\n            </div>\n            <div className=\"subreddit-sidebar-section\">\n                <div className=\"subreddit-sidebar-section-header\" style={\n                    color ? {\n                        background: colors[color],\n                        color: 'rgb(255, 255, 255)' \n                    } : null\n                }>\n                    Filter by Flair\n                </div>\n                <div className=\"subreddit-sidebar-section-flairs\">\n                    {flairs.map((flair, i) => {\n                        return (\n                            <div key={i} className={`subreddit-sidebar-section-flair\n                                ${activeFlairs.includes(flair) ? `subreddit-sidebar-section-flair-active` : null}`}\n                                onClick={() => {pickFlair(flair)}}>\n                                {postPage ?\n                                    <Link to={`/r/${slug}`}>{flair}</Link>\n                                : flair}\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default SubSidebar;","import React from \"react\";\n\nexport const SubredditContext = React.createContext({});","import React, { useState, useEffect } from \"react\";\nimport { useParams, Outlet } from \"react-router-dom\";\nimport { getFirestore, collection, query, where, doc, getDoc, getDocs } from \"firebase/firestore\";\nimport Sortbar from \"./Sortbar\";\nimport PostBox from \"./PostBox\";\nimport SubSidebar from \"./SubSidebar\";\nimport { SubredditContext } from \"./subredditContext\"; // Import Context allows passing of props to child Post component\nimport \"../styles/Subreddit.css\";\n\nconst Subreddit = ({user, setUser}) => {\n\tconst { slug } = useParams(); // Get subreddit slug from url\n\tconst [subreddit, setSubreddit] = useState({\n\t\tslug: '',\n\t\ttitle: '',\n\t\tbanner: '',\n\t\ticon: '',\n\t\tmembers: 0,\n\t\tcolor: '',\n\t\tflairs: [],\n\t\tdescription: '',\n\t\tcreated: 0\n\t});\n\tconst [posts, setPosts] = useState([]);\n\tconst [activeFlairs, setActiveFlairs] = useState([]);\n\tconst { title, banner, icon, color } = subreddit;\n\tconst colors = {\n\t\tLightBlue: 'rgb(0, 121, 211)',\n\t\tDarkBlue: 'rgb(0, 64, 121)'\n\t}\n\n\t// Get Subreddit & posts from database on componentDidMount & componentDidUpdate\n\tuseEffect(() => {\n\t\tconst getSubreddit = async () => {\n\t\t\tconst db = getFirestore();\n\t\t\tconst docRef = doc(db, \"subreddits\", slug);\n\t\t\tconst docSnap = await getDoc(docRef);\n\n\t\t\tif (docSnap.exists()) {\n\t\t\t\treturn docSnap.data();\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\tconst getPosts = async () => {\n\t\t\t\tconst db = getFirestore();\n\t\t\t\tconst postsRef = collection(db, \"posts\");\n\t\t\t\tconst q = query(postsRef, where(\"subreddit\", \"==\", slug));\n\t\t\t\tconst querySnap = await getDocs(q);\n\t\t\t\tconst postsArray = [];\n\n\t\t\t\t// Add fetched posts to posts array\n\t\t\t\tquerySnap.forEach(post => {\n\t\t\t\t\t// Push post data along with post id to array\n\t\t\t\t\tpostsArray.push({\n\t\t\t\t\t\t...post.data(),\n\t\t\t\t\t\tid: post.id\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// Sort posts array by date (desc)\n\t\t\t\tpostsArray.sort((a, b) => {\n\t\t\t\t\treturn b.date - a.date;\n\t\t\t\t});\n\n\t\t\t\tsetPosts(postsArray.slice());\n\t\t};\n\n\t\t// Get Subreddit data from Promise\n\t\tgetSubreddit()\n\t\t.then((data) => {\n\t\t\tsetSubreddit(data);\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\n\t\tgetPosts();\n\t}, [slug]);\n\n\t// Add/remove flair to active flairs\n\tconst pickFlair = (flair) => {\n\t\tconst temp = activeFlairs.slice();\n\n\t\t// If flair already picked, remove flair, otherwise add flair\n\t\tif (activeFlairs.includes(flair)) {\n\t\t\tconst index = activeFlairs.indexOf(flair);\n\t\t\ttemp.splice(index, 1);\n\t\t} else {\n\t\t\ttemp.push(flair);\n\t\t}\n\n\t\tsetActiveFlairs(temp);\n    };\n\n\t// Check if post has an active flair\n\tconst hasActiveFlair = (postFlairs) => {\n\t\tlet includes = false;\n\t\tpostFlairs.forEach((f) => {\n\t\t\tif (activeFlairs.includes(f)) {\n\t\t\t\tincludes = true;\n\t\t\t}\n\t\t});\n\n\t\treturn includes;\n\t};\n\n\treturn (\n\t\t<div className=\"subreddit\">\n\t\t\t<div className=\"subreddit-banner\" style={\n\t\t\t\t{\n\t\t\t\t\tbackgroundImage: 'url(' + banner + ')',\n\t\t\t\t\tbackgroundColor: colors[color]\n\t\t\t\t}\n\t\t\t} />\n\t\t\t<div className=\"subreddit-header\">\n\t\t\t\t<div className=\"subreddit-header-content\">\n\t\t\t\t\t<img className=\"subreddit-icon\" url={icon} alt=\"\" />\n\t\t\t\t\t<div className=\"subreddit-title\">\n\t\t\t\t\t\t<h1>{title}</h1>\n\t\t\t\t\t\t<div className=\"subreddit-name\">r/{slug}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"subreddit-body\">\n\t\t\t\t<div className=\"subreddit-posts-container\">\n\t\t\t\t\t<Sortbar posts={posts} setPosts={setPosts} />\n\t\t\t\t\t{posts.length !== 0 ?\n\t\t\t\t\t\tposts.map((post) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t/* Render post if there are no active flairs OR post has an active flair */\n\t\t\t\t\t\t\t\tactiveFlairs.length === 0 || hasActiveFlair(post.flairs) ?\n\t\t\t\t\t\t\t\t\t<PostBox key={post.id} user={user} setUser={setUser} post={post} posts={posts} setPosts={setPosts}\n\t\t\t\t\t\t\t\t\t\tactiveFlairs={activeFlairs} pickFlair={pickFlair} />\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<SubSidebar user={user} slug={slug} subreddit={subreddit} colors={colors}\n\t\t\t\t\tactiveFlairs={activeFlairs} pickFlair={pickFlair} />\n\t\t\t</div>\n\t\t\t<SubredditContext.Provider value={{subreddit, colors, posts, setPosts, activeFlairs, pickFlair}}>\n\t\t\t\t<Outlet /> {/* Nested route for Post component */}\n\t\t\t</SubredditContext.Provider>\n\t\t</div>\n\t);\n}\n\nexport default Subreddit;","import React, { useState } from \"react\";\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\nimport { getFirestore, collection, addDoc } from \"firebase/firestore\";\n\nconst Submit = ({user}) => {\n\tconst { slug } = useParams(); // Get subreddit slug from url\n\tconst [title, setTitle] = useState('');\n\tconst [text, setText] = useState('');\n\tconst { flairs } = useLocation().state;\n\tconst [activeFlairs, setActiveFlairs] = useState([]);\n\tconst [error, setError] = useState('');\n\tconst navigate = useNavigate();\n\n\t// Dynamically change state from title input\n\tconst handleTitle = event => {\n\t\tsetTitle(event.target.value);\n\t};\n\n\t// Dynamically change state from title input\n\tconst handleText = event => {\n\t\tsetText(event.target.value);\n\t};\n\n\tconst pickFlair = event => {\n\t\tconst flair = event.target.innerHTML;\n\t\tconst temp = activeFlairs.slice();\n\n\t\t// If flair already picked, remove flair, otherwise add flair\n\t\tif (activeFlairs.includes(flair)) {\n\t\t\tconst index = activeFlairs.indexOf(flair);\n\t\t\ttemp.splice(index, 1);\n\t\t} else {\n\t\t\ttemp.push(flair);\n\t\t}\n\n\t\tsetActiveFlairs(temp);\n\t};\n\n\tconst submitPost = async () => {\n\t\tif (title !== '' && text !== '') {\n\t\t\tconst db = getFirestore();\n\t\t\tawait addDoc(collection(db, \"posts\"), {\n\t\t\t\tauthor: user.username,\n\t\t\t\tcomments: 0,\n\t\t\t\tdate: new Date(),\n\t\t\t\tdownvotes: 0,\n\t\t\t\tflairs: activeFlairs,\n\t\t\t\tsubreddit: slug,\n\t\t\t\ttext: text,\n\t\t\t\ttitle: title,\n\t\t\t\tupvotes: 1\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tnavigate(\"/r/\" + slug);\n\t\t\t});\n\t\t} else {\n\t\t\tsetError('All fields required.');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"submit\">\n\t\t\t{user ?\n\t\t\t\t<div>\n\t\t\t\t\t<h3>Create a post</h3>\n\t\t\t\t\t<div>r/{slug}</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"My first post\" onChange={handleTitle} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<textarea onChange={handleText} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{error !== '' ?\n                        <div className=\"error-msg\">{error}</div>\n                    : null}\n\t\t\t\t\t{flairs.map((flair, i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={i} className=\"flair\" onClick={pickFlair}>{flair}</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<button className=\"post-submit-btn\" onClick={submitPost}>Post</button>\n\t\t\t\t</div>\n\t\t\t: null}\n\t\t</div>\n\t);\n}\n\nexport default Submit;","import React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getFirestore, addDoc, collection, doc, updateDoc } from \"firebase/firestore\";\nimport LogIn from \"./LogIn\";\nimport \"../styles/Reply.css\";\n\nconst Reply = ({user, post, setPost, parent}) => {\n    const { slug } = useParams(); // Get subreddit slug from url\n    const [reply, setReply] = useState('');\n    const [error, setError] = useState('');\n    const [logInForm, setLogInForm] = useState(false);\n\tconst [signUpForm, setSignUpForm] = useState(false);\n\n    // Dynamically change state from reply input\n\tconst handleReply = event => {\n\t\tsetReply(event.target.value);\n    };\n\n    const submitReply = async () => {\n        if (reply !== '') {\n\t\t\tconst db = getFirestore();\n\t\t\tawait addDoc(collection(db, \"comments\"), {\n\t\t\t\tauthor: user.username,\n\t\t\t\tdate: new Date(),\n                downvotes: 0,\n                parentId: parent,\n                postId: post.id,\n                replies: [],\n                subreddit: slug,\n\t\t\t\ttext: reply,\n\t\t\t\tupvotes: 1\n\t\t\t})\n\t\t\t.then(() => {\n                // Clear reply input\n                const replyInputs = document.querySelectorAll('.reply-input');\n                replyInputs.forEach((replyInput) => {\n                    replyInput.value = '';\n                });\n                setReply('');\n                setError('');\n            })\n            .then(() => {\n                // Increment comment count in database\n                const postRef = doc(db, \"posts\", post.id);\n                (async () => {\n                    await updateDoc(postRef, {\n                        comments: post.comments + 1\n                    })\n                    .catch((error) => {\n                        console.log(error);\n                    });\n                })();\n\n                // Increment comment count in post object\n                setPost(\n                    {\n                        ...post,\n                        comments: post.comments + 1\n                    }\n                );\n            });\n\t\t} else {\n\t\t\tsetError('All fields required.');\n\t\t}\n    };\n\n    return (\n        <div className=\"reply\">\n            {user ?\n                <div className={`reply-form ${parent === '' ? `reply-form-post` : ''}`}>\n                    <textarea className=\"reply-input\" placeholder=\"Comment on this post\" onChange={handleReply} />\n                    {error !== '' ?\n                        <div className=\"error-msg\">{error}</div>\n                    : null}\n                    <button className=\"reply-submit-btn\" onClick={submitReply}>Reply</button>\n                </div>\n            :\n            <div>\n                <span>Log in or Sign up to leave a comment</span>\n                <button className=\"login-btn\" onClick={() => {setLogInForm(true)}}>Log In</button>\n\t\t\t\t<button className=\"signup-btn\" onClick={() => {setSignUpForm(true)}}>Sign Up</button>\n            </div>}\n            {logInForm ?\n\t\t\t\t<LogIn setLogInForm={setLogInForm} setSignUpForm={setSignUpForm} logIn={true} />\n\t\t\t: null}\n\t\t\t{signUpForm ?\n\t\t\t\t<LogIn setLogInForm={setLogInForm} setSignUpForm={setSignUpForm} logIn={false} />\n\t\t\t: null}\n        </div>\n    );\n}\n\nexport default Reply;","import React, { useState, useEffect } from \"react\";\nimport { getFirestore, doc, updateDoc, deleteField, deleteDoc } from \"firebase/firestore\";\nimport Reply from \"./Reply\";\nimport formatNumber from \"../functions/formatNumber\";\nimport getElapsedTime from \"../functions/getElapsedTime\";\n\nconst Comment = ({user, setUser, comment, comments, setComments, post, setPost}) => {\n    const [collapsed, setCollapsed] = useState(false);\n    const [showCommentsReply, setShowCommentsReply] = useState(false);\n    const [upvoted, setUpvoted] = useState(false);\n    const [downvoted, setDownvoted] = useState(false);\n\n    // Set Upvoted & Downvoted on componentDidMount & componentDidUpdate\n    useEffect(() => {\n        if (user && user.upvoted.includes(comment.id)) {\n            setUpvoted(true);\n        } else  {\n            setUpvoted(false);\n        }\n\n        if (user && user.downvoted.includes(comment.id)) {\n            setDownvoted(true);\n        } else  {\n            setDownvoted(false);\n        }\n    }, [user, comment.id]);\n\n    const vote = async (direction) => {\n        const db = getFirestore();\n        const commentRef = doc(db, \"comments\", comment.id);\n        const userRef = doc(db, \"users\", user.id);\n\n        // Clone user's upvoted/downvoted arrays\n        const upvotedClone = user.upvoted.slice();\n        const downvotedClone = user.downvoted.slice();\n\n        // If not already upvoted/downvoted, add comment id to user's upvoted/downvoted array\n        if (direction === 'up' && !upvoted) {\n            upvotedClone.push(comment.id);\n        } else if (direction === 'down' && !downvoted) {\n            downvotedClone.push(comment.id);\n        }\n\n        // If already upvoted/downvoted, remove comment id from user's upvoted/downvoted array\n        if (upvoted) {\n            const index = user.upvoted.indexOf(comment.id);\n            upvotedClone.splice(index, 1);\n        } else if (downvoted) {\n            const index = user.downvoted.indexOf(comment.id);\n            downvotedClone.splice(index, 1);\n        }\n\n        // Set user's upvoted/downvoted array\n        setUser({\n            ...user,\n            upvoted: upvotedClone,\n            downvoted: downvotedClone\n        });\n\n        // Get new upvotes/downvotes count\n        let newUpvotes = comment.upvotes;\n        let newDownvotes = comment.downvotes;\n        if (direction === 'up') {\n            upvoted ? newUpvotes-- : newUpvotes++;\n            if (downvoted) {\n                newDownvotes--;\n            }\n        } else {\n            downvoted ? newDownvotes-- : newDownvotes++;\n            if (upvoted) {\n                newUpvotes--;\n            }\n        }\n\n        // Update database\n        await updateDoc(commentRef, {\n            upvotes: newUpvotes,\n            downvotes: newDownvotes\n        });\n        await updateDoc(userRef, {\n            upvoted: upvotedClone,\n            downvoted: downvotedClone\n        });\n\n        // Update comments state in Comments component\n        const temp = comments.slice();\n        // Find comment in temp array, then update comment upvotes\n        temp.forEach((c) => {\n            if (c.id === comment.id) {\n                c.upvotes = newUpvotes;\n                c.downvotes = newDownvotes;\n            }\n        });\n\n        setComments(temp);\n    };\n\n    const deleteComment = () => {\n\t\tconst db = getFirestore();\n\n\t\t// Delete Fields from Document\n\t\tconst deleteDocFields = async (id) => {\n\t\t\tconst docRef = doc(db, \"comments\", id);\n\t\t\tawait updateDoc(docRef, {\n\t\t\t\tauthor: deleteField(),\n\t\t\t\tdate: deleteField(),\n                downvotes: deleteField(),\n                parentId: deleteField(),\n                postId: deleteField(),\n                replies: deleteField(),\n                subreddit: deleteField(),\n                text: deleteField(),\n                upvotes: deleteField()\n\t\t\t});\n\t\t};\n\n\t\t// Delete Document\n\t\tconst deleteDocument = async (id) => {\n\t\t\tconst docRef = doc(db, \"comments\", id);\n\t\t\tawait deleteDoc(docRef);\n\t\t};\n\n\t\t// Delete Comment\n        deleteDocFields(comment.id)\n        .then(() => { deleteDocument(comment.id) })\n        .then(() => {\n            // Decrement comment count in database\n            const postRef = doc(db, \"posts\", post.id);\n            (async () => {\n                await updateDoc(postRef, {\n                    comments: post.comments - 1\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n            })();\n\n            // Decrement comment count in post object\n            setPost(\n                {\n                    ...post,\n                    comments: post.comments - 1\n                }\n            );\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n\t};\n\n    return (\n        <div className=\"comment-container\" id={comment.id}>\n            <div className={`comment-sidebar ${collapsed ? `comment-collapsed` : ''}`}>\n                {collapsed ?\n                    <div className=\"comment-expand\" onClick={() => { setCollapsed(false) }} />\n                : null}\n                <div className=\"comment-avatar\" />\n                {!collapsed ?\n                    <div className=\"comment-threadline\" onClick={() => { setCollapsed(true) }} />\n                : null}\n            </div>\n            <div className=\"comment\">\n                <div className=\"comment-details\">\n                    <div className=\"comment-parent\">\n                        <div className=\"comment-meta\">\n                            <span className={`comment-author\n                                ${comment.author === post.author ? `comment-author-poster` : ''}\n                                ${user && comment.author === user.username ? `comment-author-user` : ''}`}>\n                                    {comment.author}\n                            </span>\n                            <span className=\"comment-date\">{getElapsedTime(comment.date.seconds)}</span>\n                        </div>\n                        {!collapsed ?\n                            <div className=\"comment-text\">{comment.text}</div>\n                        : null}\n                    </div>\n                    {!collapsed ?\n                        <div className=\"comment-btns-container\">\n                            <div className=\"comment-votes-container\">\n                                <div className={`comment-upvote-btn ${user && upvoted ? `comment-upvoted` : ''}`} onClick={\n                                    user ? () => {\n                                        vote('up');\n                                    } : null\n                                } />\n                                <div className=\"comment-votes\">\n                                    {formatNumber(comment.upvotes - comment.downvotes)}\n                                </div>\n                                <div className={`comment-downvote-btn ${user && downvoted ? `comment-downvoted` : ''}`} onClick={\n                                    user ? () => {\n                                        vote('down');\n                                    } : null\n                                } />\n                            </div>\n                            {user ?\n                                <div className=\"comment-btn\" onClick={() => {\n                                    !showCommentsReply ? setShowCommentsReply(true) : setShowCommentsReply(false)\n                                }}>Reply</div>\n                            :null}\n                            {user && comment.author === user.username ?\n                                <div className=\"comment-btn\" onClick={deleteComment}>Delete</div>\n                            : null}\n                        </div>\n                    : null}\n                </div>\n                {!collapsed && showCommentsReply ?\n                    <Reply user={user} post={post} setPost={setPost} parent={comment.id} />\n                : null}\n                {!collapsed && comment.replies.length > 0 ?\n                    <div className=\"replies\">\n                        {comment.replies.map((reply) => {\n                            return (\n                                <Comment user={user} comment={reply} post={post} setPost={setPost} key={reply.id} />\n                            );\n                        })}\n                    </div>\n                : null}\n            </div>\n        </div>\n    );\n}\n\nexport default Comment;","import React, { useState, useEffect } from \"react\";\nimport { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\nimport Sortbar from \"./Sortbar\";\nimport Comment from \"./Comment\";\nimport \"../styles/Comments.css\";\n\nconst Comments = ({user, setUser, post, setPost}) => {\n    const [comments, setComments] = useState([]);\n\n\t// Get comments from database on componentDidMount & componentDidUpdate\n\tuseEffect(() => {\n        let allComments = [];\n\n\t\tconst getComments = async () => {\n\t\t\t\tconst db = getFirestore();\n\t\t\t\tconst commentsRef = collection(db, \"comments\");\n\t\t\t\tconst q = query(commentsRef, where(\"postId\", \"==\", post.id));\n\t\t\t\tconst querySnap = await getDocs(q);\n\t\t\t\tconst commentsArray = [];\n\n\t\t\t\t// Add fetched comments to comments array\n\t\t\t\tquerySnap.forEach(comment => {\n\t\t\t\t\t// Push comment data along with comment id to array\n                    commentsArray.push({\n                        ...comment.data(),\n                        id: comment.id\n                    });\n\t\t\t\t});\n\n\t\t\t\t// Sort comments array by votes (desc)\n\t\t\t\tcommentsArray.sort((a, b) => {\n\t\t\t\t\treturn (b.upvotes - b.downvotes) - (a.upvotes - a.downvotes);\n\t\t\t\t});\n\n                allComments = commentsArray.slice();\n        };\n\n        const nestComments = () => {\n            const temp = [];\n\n            // Get parent comments\n            allComments.forEach((comment) => {\n                if (comment.parentId === '') {\n                    temp.push(comment);\n                }\n            });\n\n            // Recursively loop through each comment and add all child comments/replies\n            const addReplies = (branch) => {\n                branch.forEach((comment) => {\n                    // Go through all comments and check if it's a reply to current comment\n                    allComments.forEach((allComment) => {\n                        if (allComment.parentId === comment.id) {\n                            // Add reply to replies array\n                            comment.replies.push(allComment);\n                        }\n                    });\n\n                    // If current comment has replies, recursively loop through each reply\n                    if (comment.replies.length > 0) {\n                        addReplies(comment.replies);\n                    }\n                });\n            };\n\n            addReplies(temp);\n            setComments(temp);\n        };\n\n        getComments()\n        .then(nestComments)\n        .catch((error) => {\n            console.log(error);\n        });\n    }, [post]);\n\n    return (\n        <div className=\"comments\">\n            <Sortbar comments={comments} setComments={setComments} />\n            {comments.map((comment) => {\n                return (\n                    <Comment key={comment.id} user={user} setUser={setUser} comment={comment}\n                        comments={comments} setComments={setComments} post={post} setPost={setPost} />\n                );\n            })}\n        </div>\n    );\n};\n\nexport default Comments;","import React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\nimport PostBox from \"./PostBox\";\nimport Reply from \"./Reply\";\nimport Comments from \"./Comments\";\nimport SubSidebar from \"./SubSidebar\";\nimport { SubredditContext } from \"./subredditContext\";\nimport formatNumber from \"../functions/formatNumber\";\nimport \"../styles/Post.css\";\n\nconst Post = ({user, setUser}) => {\n    const { slug, postId } = useParams(); // Get post id from url\n    const [post, setPost] = useState({\n        id: '',\n        author: '',\n        comments: 0,\n        date: '',\n        downvotes: 0,\n        flairs: [],\n        postSubreddit: slug,\n        text: '',\n        title: '',\n        upvotes: 0\n    });\n    const { downvotes, title, upvotes } = post;\n    const { subreddit, colors, posts, setPosts, activeFlairs, pickFlair } = React.useContext(SubredditContext); // Get props from parent Subreddit component\n\n    // Get Post from database on componentDidMount & componentDidUpdate\n    useEffect(() => {\n        const getPost = async () => {\n\t\t\tconst db = getFirestore();\n\t\t\tconst docRef = doc(db, \"posts\", postId);\n\t\t\tconst docSnap = await getDoc(docRef);\n\n\t\t\tif (docSnap.exists()) {\n                // Return post data along with post id\n\t\t\t\treturn {\n                    ...docSnap.data(),\n                    id: docSnap.id\n                };\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n        };\n\n        // Get Post data from Promise\n        getPost()\n        .then((p) => {\n            setPost(p);\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n\n        // Disable scroll on parent Subreddit\n        document.body.classList.add(\"no-scroll\");\n        // Re-enable scroll on componentDidUnmount\n        return () => {\n            document.body.classList.remove(\"no-scroll\");\n        };\n    }, [slug, postId]);\n\n    return (\n        <div className=\"post\">\n            <Link to={`/r/${slug}`}>\n                <div className=\"canvas post-canvas\" />\n            </Link>\n            <div className=\"post-main\">\n                <div className=\"post-header\">\n                    <div className=\"post-header-inner\">\n                        <div className=\"post-votes-container\">\n                            <div className=\"post-upvote-btn\" />\n                            {formatNumber(upvotes)}\n                            <div className=\"post-downvote-btn\" />\n                            {formatNumber(downvotes)}\n                        </div>\n                        <div className=\"post-title\">\n                            {title}\n                        </div>\n                        <Link to={`/r/${slug}`} className=\"post-close-btn-container\">\n                            <div className=\"post-close-btn\">\n                                Close\n                            </div>\n                        </Link>\n                    </div>\n                </div>\n                <div className=\"post-body\">\n                    <div className=\"post-content-container\">\n                        <PostBox user={user} setUser={setUser} post={post} setPost={setPost} posts={posts} setPosts={setPosts}\n                            activeFlairs={activeFlairs} pickFlair={pickFlair} postPage={true} />\n                        <Reply user={user} post={post} setPost={setPost} parent='' />\n                        <Comments user={user} setUser={setUser} post={post} setPost={setPost} />\n                    </div>\n                    <SubSidebar user={user} slug={slug} subreddit={subreddit} colors={colors} activeFlairs={activeFlairs} pickFlair={pickFlair} postPage={true} />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Post;","import React, { useState, useEffect } from \"react\";\nimport { initializeApp } from \"firebase/app\";\nimport { getFirebaseConfig } from \"../firebase-config.js\";\nimport { HashRouter, Routes, Route } from \"react-router-dom\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport Search from \"./Search\";\nimport Footer from \"./Footer\";\nimport Subreddit from \"./Subreddit\";\nimport Submit from \"./Submit\";\nimport Post from \"./Post\";\nimport \"../styles/index.css\";\n\nconst App = () => {\n\tconst firebaseAppConfig = getFirebaseConfig();\n\tinitializeApp(firebaseAppConfig);\n\n\tconst [user, setUser] = useState();\n\n\t// Set Logged In observer on componentDidMount\n\tuseEffect(() => {\n\t\tconst auth = getAuth();\n\t\tauth.onAuthStateChanged((userAuth) => {\n\t\t\tif (userAuth) {\n\t\t\t\tconst db = getFirestore();\n\n\t\t\t\t// Get user data\n\t\t\t\tconst getUser = async () => {\n\t\t\t\t\tconst q = query(collection(db, \"users\"), where(\"email\", \"==\", auth.currentUser.email));\n\t\t\t\t\tconst querySnapshot = await getDocs(q);\n\t\t\t\t\tquerySnapshot.forEach((doc) => {\n\t\t\t\t\t\tsetUser({\n\t\t\t\t\t\t\tid: doc.id, // Add document id to user object\n\t\t\t\t\t\t\temail: doc.data().email,\n\t\t\t\t\t\t\tusername: doc.data().username,\n\t\t\t\t\t\t\tpassword: doc.data().password,\n\t\t\t\t\t\t\tupvoted: doc.data().upvoted,\n\t\t\t\t\t\t\tdownvoted: doc.data().downvoted\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tgetUser();\n\t\t\t} else {\n\t\t\t\tsetUser(null);\n\t\t\t}\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<HashRouter>\n\t\t\t<Header user={user} />\n\t\t\t<Routes>\n\t\t\t\t<Route exact path=\"/\" element={<Home user={user} setUser={setUser} />} />\n\t\t\t\t<Route exact path=\"/search/:searchQuery\" element={<Search />} />\n\t\t\t\t<Route path=\"/r/:slug\" element={<Subreddit user={user} setUser={setUser} />}>\n\t\t\t\t\t{/* Nested route for Post component using relative path */}\n\t\t\t\t\t<Route exact path=\"comments/:postId/:postTitle\" element={<Post user={user} setUser={setUser} />} />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/r/:slug/submit\" element={<Submit user={user} />} />\n\t\t\t</Routes>\n\t\t\t<Footer />\n\t\t</HashRouter>\n\t);\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport \"./styles/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}